/*!
 * jquery-confirm v2.5.1 (http://craftpip.github.io/jquery-confirm/)
 * Author: Boniface Pereira
 * Website: www.craftpip.com
 * Contact: hey@craftpip.com
 *
 * Copyright 2013-2015 jquery-confirm
 * Licensed under MIT (https://github.com/craftpip/jquery-confirm/blob/master/LICENSE)
 */

function resume_btn(){$("[resume_box]").is(":visible")?$("[resume_btn]").each(function(e,t){$(this).addClass("disable")}):$("[resume_btn]").each(function(e,t){$(this).removeClass("disable")})}function select_menu(){$(".kz_select.menu").each(function(e,t){if(!$(this).hasClass("special")){var n=$(this),i=n.find(".layer_option"),a=n.find("li"),o=(n.parent(),n.find("input[type=text]")),s=n.find("input[type=hidden]"),r=null;n.click(function(e){i.addClass("on"),e.stopPropagation()}),a.click(function(e){a.removeClass("cur"),i.removeClass("on"),o.val($(this).text()),s.val($(this).data("val")),$(this).addClass("cur"),setTimeout(function(){o.trigger("checkall")},20),e.stopPropagation()}),n.mouseenter(function(){clearTimeout(r)}),n.mouseleave(function(){r=setTimeout(function(){i.removeClass("on")},500)})}})}function salary(){$(".kz_select.xz").each(function(e,t){var n=$(this),i=(n.find(".layer_option"),n.find("li")),a=(n.parent(),n.find("input[type=text]")),o=(n.find("input[type=hidden]"),$(".right_xz")),s=o.find("input[type=text]"),r=o.find(".layer_option ul");if(i.click(function(e){o.show();var t=parseInt($(this).text()),n=0;if(50>=t){s.val(t+1),r.html("");for(var i=t+1;2*t>=i;i++){var a="";a+="<li>"+i+"</li>",$(a).appendTo(r)}select_menu()}if(t>50&&200>t){n=160>t?t+50:2*t,n>200&&(n=200),s.val(t+10),r.html("");for(var i=t+10;n>=i;i+=10){var a="";a+="<li>"+i+"</li>",$(a).appendTo(r)}select_menu()}if(t>120&&0>t){s.val(t+10),r.html("");for(var i=t+10;200>=i;i+=10){var a="";a+="<li>"+i+"</li>",$(a).appendTo(r)}select_menu()}"面议"==$(this).text()&&(o.hide(),s.val("面议")),e.preventDefault()}),"请选择"!=a.val()&&""!=a.val()){var l=parseInt($(".kz_select.xz input[type=text]").eq(0).val()),c=0;if(o.show(),50>=l){s.val(s.val()),r.html("");for(var d=l+1;2*l>=d;d++){var u="";u+="<li "+(parseInt(d)==parseInt(s.val())?"class=cur":"")+">"+d+"</li>",$(u).appendTo(r)}select_menu()}if(l>50&&200>l){c=160>l?l+50:2*l,c>200&&(c=200),s.val(s.val()),r.html("");for(var d=l+10;c>=d;d+=10){var u="";u+="<li "+(parseInt(d)==parseInt(s.val())?"class=cur":"")+">"+d+"</li>",$(u).appendTo(r)}select_menu()}"面议"==$(".kz_select.xz input[type=text]").eq(0).val()&&(o.hide(),s.val("面议"))}})}function jobslist(){function getMultiselectBoxHtml(e,t,n,i){function a(e,a,o){return i.find(".box .list a[value='"+o+"']").length?void 0:$('<a href="#"/>').text(a).attr("value",$(e).val()).addClass(e.selected?"on":"").on("click",function(a,o){e.selected?(e.selected=!1,$(this).removeClass("on")):$(this).closest(".list").find("a.on").length>=s?KZ.form.Prompt("最多只能选"+s+"个",1):(e.selected=!0,$(this).addClass("on")),t.hasClass("P_multiselect_c")||(n.val()&&n.val().length>=s?i.find(".add_box").hide():i.find(".add_box").show()),a.preventDefault()}).appendTo(i.find(".box .list"))}if(!i)var i=$('<div class="multiselect"><div class="box"><i/>			<div class="tbox">				<div class="add_box">					<input class="inp" type="text" placeholder="请填写关键词"  maxlength="6" />					<a class="btn" href="#">添加</a>				</div>				<div class="layer_btns">					<a class="cancel" href="#">取消</a>					<a class="sure" href="#">确定</a>				</div>			</div>			<div class="list"/><div class="loading"/>			</div>');if(n.attr("class")&&i.addClass(n.attr("class")),t.hasClass("P_multiselect_c")&&i.find(".add_box").hide(),t.data("maxlength")){var o=parseInt(t.data("maxlength"),10);i.find(".inp").attr("maxlength",t.data("maxlength")),i.find(".inp").bind("keyup",function(){var e=$(this).val().match(/[\u4E00-\u9FA5\r\n]/g);e?$(this).attr("maxlength",o-e.length):$(this).attr("maxlength",o)})}n.hide().find("option").each(function(e){var t=this,n=$(this).text(),i=$(this).val();a(t,n,i)}),i.find(".btn").off("click").on("click",function(e){if("loading"==l)return showError("选项加载中，请稍候。。。"),!1;var o=i.find(".inp").val();if(""==o)return showError("关键词不能为空"),!1;if(t.data("maxlength")){var r=o.replace(/[\u4E00-\u9FA5\r\n]/g,"..");if(!r.match(new RegExp("^.{1,"+t.data("maxlength")+"}$")))return showError("输入内容不能大于"+t.data("maxlength")+"字节"),!1}for(var c=n.find("option"),d=0;d<c.length;d++)if(c.eq(d).val()==o)return showError("不能填加重复选项"),!1;var u=$("<option/>").text(o).val(o).appendTo(n),f=a(u.get(0),o,o);f.trigger("click",{from:"system"}),i.find(".inp").val(""),n.val()&&n.val().length>=s?i.find(".add_box").hide():i.find(".add_box").show(),e.preventDefault()});var s=n.data("num");i.find(".sure").off("click").on("click",function(e){var a=[],o=[];return n.find("option:selected").each(function(){a.push(this.innerHTML),o.push($(this).val())}),s&&(s=parseInt(s)),o&&!(o.length<1)||n.attr("empty-text")?o&&o.length>s?(showError("最多选择"+s+"项"),!1):((!o||o.length<1)&&n.attr("empty-text")?t.val(n.attr("empty-text")):t.val(a.join("·")),i.hide(),unbindObjOutsiteClick(i),setTimeout(function(){t.trigger("checkall")},20),void e.preventDefault()):(showError("请选择"),!1)}),i.find(".cancel").off("click").on("click",function(e){n.val(r),i.hide(),n.trigger("changedata",{from:"system"}),unbindObjOutsiteClick(i),e.preventDefault()}),n.bind("changedata",function(){i.find(".box .list a").remove(),i.find(".loading").hide(),l="",getMultiselectBoxHtml(e,t,n,i)}),i.appendTo(e);var r=n.val(),l="";return i.showNow=function(e){return"loading"==e&&(l=e,i.find(".loading").show()),r=n.val(),i.show(),bindObjOutsiteClick(i,t),i},i}function showError(e){KZ.form.Prompt(e,1)}function bindObjOutsiteClick(e,t,n){var i="doc_"+(new Date).getTime(),a="doc1_"+(new Date).getTime()+1;e.attr("class")&&e.attr("class",e.attr("class").replace(/doc_(\d+)/g,"")),e.addClass(i),t&&(t.attr("class")&&t.attr("class",t.attr("class").replace(/doc1_(\d+)/g,"")),t.addClass(a)),setTimeout(function(){$(document).bind("click",function(t){$(t.target).hasClass(a)||0==$(t.target).parents("."+i).length&&(e.hide(),"function"==typeof n&&n(),$(document).unbind("click"))})},200)}function bindMultipleSelect(e,t){var n=e.find("option");if(t)for(var i=0;i<t.length;i++)0==n.filter("[value='"+t[i]+"']").length&&$("<option/>").val(t[i]).text(t[i]).appendTo(e);e.val(t).trigger("changedata")}function unbindObjOutsiteClick(e,t){"function"==typeof t&&t(),$(document).unbind("click")}var currLi=null;$(".openmenu .job_box ul li").each(function(){var e=$(this),t=$(this).children("a"),n=$(this).children("div");t.click(function(t){$(".openmenu ul li div").css({visibility:"hidden"}),n.css({visibility:"visible"}),currLi&&currLi.css({zIndex:0}),currLi=e.css({zIndex:1}),t.stopPropagation()}),n.find("a").click(function(e){$(".openmenu").hide(),currLi.css({zIndex:0}),currLi=null,n.css({visibility:"hidden"}),e.stopPropagation()})}),$(".kz_select.zw").each(function(e,t){var n=$(this),i=$(".openmenu"),a=n.find("input[type=text]"),o=n.find(".P_zwcat_2"),s=n.find(".P_zwcat_1"),r=null;i.data("copytxt")&&(r=$(i.data("copytxt")),r.length&&!r.val()?r.bind("keyup",function(){r.addClass("modifyed")}):r=null),n.children("input[type=text],.arrow").click(function(e){$(this).hasClass("unclickable")||(i.show(),bindObjOutsiteClick(i,$(this)),e.preventDefault())}),$(".openmenu li").each(function(){var e=$(this);$(this).find("div a,div i").click(function(t){a.val($(this).text()),o.val($(this).data("val")).attr("level2",e.children("a").data("val")),r&&!r.hasClass("modifyed")&&r.val($(this).text()).focus(),s.val(e.children("a").data("val")),i.hide(),a.removeClass("kai"),setTimeout(function(){a.focus(),a.blur()},20),skillData.curData!=e.children("a").data("val")&&(skillData.curData="",selectDom.val(""),$(".P_skills").val("")),unbindObjOutsiteClick(),t.preventDefault(),t.stopPropagation()});var t=$(this).parent().find("div"),n=null;t.mouseout(function(){n=setTimeout(function(){t.css({visibility:"hidden"})},200)}),t.mouseover(function(){clearTimeout(n)})})});var skillData={},selectDom=$("select.P_skills_select"),skillDefaultValue=selectDom.val(),skillLevel2Value=$(".P_zwcat_2").attr("level2"),selectbox=getMultiselectBoxHtml($(".P_skills").parent(),$(".P_skills"),selectDom);if($(".P_skills").add($(".P_skills").siblings(".arrow")).bind("click",function(e){var level2=$(".P_zwcat_2").attr("level2");if(skillDefaultValue||""!=$(".P_zwcat_2").val()||($(".P_skills").closest("dd").find(".error_hint").remove(),$(".P_skills").closest("dd").append('<div class="error_hint"><i></i>请先选择职位类型</div>')),level2!=skillLevel2Value&&(skillDefaultValue=skillLevel2Value=null),level2&&""!=level2){var nowValue=selectDom.val();if(skillData[level2])if(skillData.curData!=level2){selectDom.find("option").remove();var levelData=skillData[level2];for(var i in levelData)$("<option/>").text(levelData[i]).val(levelData[i]).appendTo(selectDom);selectDom.val(nowValue),bindMultipleSelect(selectDom),skillData.curData=level2,selectbox.showNow()}else selectbox.showNow();else selectDom.find("option").remove(),selectbox.showNow("loading"),$.ajax({url:_PAGE.skillsUrl,data:{positonLv2:level2},type:"GET",success:function(e){"string"==typeof e&&(e=eval("("+e+")")),selectDom.find("option").remove();for(var i in e)$("<option/>").text(e[i]).val(e[i]).appendTo(selectDom);skillData[level2]=e,selectDom.val(nowValue),bindMultipleSelect(selectDom,skillDefaultValue),skillData.curData=level2},error:function(e,t,n){}})}}),$(".hmain .menu li").each(function(){if("发布新职位"==$(this).find("a").html()){var e=$("body input[name=layer_onoff]");$(this).click(function(){e.length>0&&KZ.pageLock.show(1e3,$("#layer_0"+e.val()),$("#layer_0"+e.val()+" .delete,#layer_0"+e.val()+" .kz_btn"))})}}),$(".teamselectbox").length){var teamSelectBox=getMultiselectBoxHtml($(".teamselectbox .txt"),$(".teamselectbox .P_multiselect"),$(".teamselectbox select"));$(".teamselectbox .P_multiselect,.teamselectbox .arrow").bind("click",function(){teamSelectBox.showNow()})}}function localStorageInstance(e,t){if(window.localStorage)if(""==t)window.localStorage.removeItem(e);else{if(!t)return window.localStorage[e];window.localStorage[e]=t}}function bindObjOutsiteClick(e,t,n){var i="doc_"+(new Date).getTime(),a="doc_"+(new Date).getTime()+1;e.attr("class")&&e.attr("class",e.attr("class").replace(/doc_(\d+)/g,"")),e.addClass(i),t&&(t.attr("class",t.attr("class").replace(/doc_(\d+)/g,"")),t.addClass(a)),setTimeout(function(){$(document).bind("click",function(t){$(t.target).hasClass(a)||$(t.target).parents(".showErrorBox").length||0==$(t.target).parents("."+i).length&&(e.hide(),"function"==typeof n&&n(),$(document).unbind("click"))})},200)}function unbindObjOutsiteClick(e,t){"function"==typeof t&&t(),$(document).unbind("click")}function dateFormat(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},i={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+i[e.getDay()+""]));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function IsVisible(){$("#chat .wrapper").is(":visible")?$(window.parent.document).find("body").css({overflow:"auto"}):$(window.parent.document).find("body").css({overflow:"hidden"})}function openUrl(e){$(window.parent.document).find(".nav_items").each(function(t,n){var i=$(this),a=i.find(".item"),o=i.find("ul li");o.removeClass("cur"),a.removeClass("open"),$(window.parent.document).find("[mid="+e+"]").addClass("cur"),$(window.parent.document).find("[mid="+e+"]").closest(".item").find("span").removeClass("lock").addClass("arrow"),$(window.parent.document).find("[mid="+e+"]").closest(".item").find("ul").show(),$(window.parent.document).find("[mid="+e+"]").closest(".item").addClass("open"),$(window.parent.document).find("#menuFrame").show(),$(window.parent.document).find("#chat").hide(),$(window.parent.document).find("#viewer").hide(),$(window.parent.document).find("#menuFrame").attr("src",$("[mid="+e+"]").find("a").attr("href"))})}function certification(){$(window.parent.document).find(".avatar_box .avatar .v").remove(),$(window.parent.document).find(".avatar_box .name").text($("[user_rz]").val()),$(window.parent.document).find("[chatbox] em").addClass("lock")}$.fn.extend({Verification:function(options){var T=this,settings={vali_btn:".vali_btn",ignoreHidden:!1,ajaxpost:!0,showAllError:!0,onError:function(e,t){},onSuccess:null,onStartFun:null,onCallback:null,onFirstFun:null,beforeCheck:function(e){return!0},beforeSubmit:function(){},callback:function(){}};$.extend(settings,options),this.each(function(index,element){function CheckAll(o){var Result=!0;return T.find(".Rcheck").find("input,textarea,select,input:hidden").each(function(i,e){if("undefined"!=typeof o)var T=o;else var T=$(this);var datatype=T.attr("datatype"),_v=T.val(),errormsg=T.attr("errormsg"),nullmsg=T.attr("nullmsg"),recheck=T.attr("recheck"),jmz={};if(jmz.GetLength=function(e){for(var t=0,n=e.length,i=-1,a=0;n>a;a++)i=e.charCodeAt(a),t+=i>=0&&128>=i?.5:1;return Math.round(t)},$.fn.setCursorPosition=function(e){return 0==this.lengh?this:$(this).setSelection(e,e)},$.fn.setSelection=function(e,t){if(0==this.lengh)return this;if(input=this[0],input.createTextRange){var n=input.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}else input.setSelectionRange&&(input.focus(),input.setSelectionRange(e,t));return this},$.fn.focusEnd=function(){this.setCursorPosition(this.val().length)},datatype)if("undefined"!=typeof datatype&&0==datatype.indexOf("/"))""==_v?(settings.onError(T,nullmsg),Result=!1):eval(datatype).test(_v)?(settings.onSuccess(T),T.attr("AddFun")&&settings.onCallback(T)):(settings.onError(T,errormsg),Result=!1);else if("hidden"==T.attr("type")&&"undefined"==typeof datatype)settings.ignoreHidden?(settings.onError(T,nullmsg),Result=!1):settings.onSuccess(T);else if(""==_v||"请选择"==_v)settings.onError(T,nullmsg),Result=!1;else if("radio"==T.attr("type")||"checkbox"==T.attr("type")){var val=$("input:"+T.attr("type")+"[name="+T.attr("name")+"]:checked").val();null==val?(settings.onError(T,errormsg),Result=!1):settings.onSuccess(T)}else"undefined"!=typeof datatype&&(eval("vali."+datatype+".test(_v)")?(settings.onSuccess(T),T.attr("AddFun")&&settings.onCallback(T)):(settings.onError(T,errormsg),Result=!1));else{if(T.attr("length")){var length=eval(T.attr("length")),m_min=length[0],m_max=length[1],shu=jmz.GetLength(T.val());shu>=m_min&&m_max>=shu?(flag=!0,settings.onSuccess(T)):(0==shu?settings.onError(T,nullmsg):settings.onError(T,errormsg),Result=!1),T.attr("AddFun")&&settings.onCallback(T)}$("[recheck]").length>0&&($("[recheck="+recheck+"]").val()==$("[name="+recheck+"]").val()?(Result=!0,settings.onSuccess(T)):(""==_v?settings.onError($("[recheck="+recheck+"]"),$("[recheck="+recheck+"]").attr("nullmsg")):settings.onError($("[recheck="+recheck+"]"),$("[recheck="+recheck+"]").attr("errormsg")),Result=!1))}return settings.showAllError?void 0:Result}),Result}vali={match:/^(.+?)(\d+)-(\d+)$/,z:/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,xz:/(^[1-9]\d{0,1}$)|(^[1-9]\d{1}[0]$)/,url:/(http:\/\/|ftp:\/\/|https:\/\/|www)?[^\u4e00-\u9fa5\s\uFE30-\uFFA0]*?\.([a-zA-Z0-9]|[1-255])[^\u4e00-\u9fa5\s\uFE30-\uFFA0]*/},$("[FirstFun]").each(function(e,t){var n=$(this);n.click(function(e){settings.onFirstFun(n)}),""!=n.val()&&settings.onFirstFun(n)}),$(".Rcheck").find("textarea,select,input:not('[type=checkbox],[type=radio]')").each(function(e,t){var n=$(this);n.blur(function(e){CheckAll(n),e.preventDefault()}),n.focus(function(e){settings.showAllError||CheckAll(n),e.preventDefault()}),n.click(function(e){settings.showAllError||CheckAll(n),e.preventDefault()}),n.bind("checkall",function(){CheckAll(n)})}),$("[AddFun]").each(function(e,t){var n=$(this);""!=n.val()&&CheckAll(n)}),$(settings.vali_btn).click(function(e){return"function"!=typeof settings.beforeCheck||settings.beforeCheck(e)?(Result=CheckAll(),$(".Rcheck").find(".kz_error").eq(0).focus(),Result&&(settings.ajaxpost?settings.beforeSubmit(e):settings.beforeSubmit(e)?($("form").submit(),Result=!0):Result=!1),Result):!1})})},searchBarEvent:function(opts){function getData(v,t,k){var text=input.val();$.get(settings.url,{query:v,type:t,city:k},function(data){"string"==typeof data&&(data=eval("("+data+")")),settings.onData(data,text)})}var settings={url:null,witeTime:200,input:null,clear:null,cancel:null,onFocus:function(e){},onBlur:function(e){},onClear:function(e){},onCancel:function(e){},onKey:function(e){},onDataReadyBefore:function(e){return!0},onData:function(e){}};if($.extend(settings,opts),1!=this.length)return void alert("需要1个DOM");var T=$(this);settings.input||alert("缺少文本框");var input="THIS"==settings.input?$(this):T.find(settings.input),type=T.find(settings.type),btnClear=settings.clear?T.find(settings.clear):null,btnCancel=settings.cancel?T.find(settings.cancel):null,getDataSetTime=null;return input.on("focus",function(){settings.onFocus()}),input.on("blur",function(){getDataSetTime&&clearTimeout(getDataSetTime),getDataSetTime=null,settings.onBlur()}),input.on("input keydown",function(){var e=settings.city;""!=settings.url&&(getDataSetTime&&clearTimeout(getDataSetTime),getDataSetTime=setTimeout(function(){settings.onDataReadyBefore(input.val())&&getData(input.val(),type.val(),e?e.val():null),getDataSetTime=null},settings.witeTime)),settings.onKey(input.val())}),{}}}),define("u/vali",function(){}),$.fn.extend({selectMenu:function(e){var t={selectEnd:function(){}},e=$.extend(t,e);return $(this).each(function(t,n){var i=$(this),a=i.find(".layer_option"),o=a.find("li"),s=i.find("input[type=text]"),r=i.find("input[type=hidden]"),l=null;i.click(function(e){a.addClass("on"),e.stopPropagation()}),o.click(function(t){o.removeClass("cur"),$(this).addClass("cur"),a.removeClass("on"),s.val($(this).text()),r.val($(this).data("val"));var n=$(this).index()==o.length-1?!0:!1;e.selectEnd.call($(this),$(this).text(),$(this).data("val"),n),setTimeout(function(){s.trigger("checkall")},20),t.stopPropagation()}),i.mouseenter(function(){clearTimeout(l)}),i.mouseleave(function(){l=setTimeout(function(){a.removeClass("on")},500)})}),$(this)}});var cookie={get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},set:function(e,t,n){if(n){var i=new Date;i.setMinutes(n),document.cookie=e+"="+encodeURIComponent(t)+";expires="+i.toGMTString()}else document.cookie=e+"="+encodeURIComponent(t)},clearcookie:function(e){document.cookie=e+"=;expires="+new Date(0).toGMTString()}},KZ=KZ||{};KZ={form:{Prompt:function(e,t){var n=$('<div class="kz_tishi" style="position:absolute;z-index:9999;"/>').html(e);0==$(".kz_tishi").length&&(n.appendTo("body").delay(1500).fadeOut(500,function(){$(this).remove()}),n.css({left:1==t?($(window).width()-n.outerWidth())/2:0,top:1==t?($(window).height()-n.outerHeight())/2:0,width:1==t?"auto":"100%",position:"fixed"}))}},pageLock:{show:function(e,t,n,i,a){if(0==$(window.parent.document).find(t.selector).length)var o=($(window.parent.document).width()-$(t).outerWidth())/2,s=($(window).height()-$(t).outerHeight())/2;else var o=($(window.parent.document).width()-$(window.parent.document).find(t.selector).outerWidth())/2,s=($(window).height()-$(window.parent.document).find(t.selector).outerHeight())/2;if(!$(window.parent.document).find("#lockpage").length>0){$("<div id='lockpage'/>").css({position:"fixed",zIndex:e?e:20,left:0,top:0,width:"100%",height:"100%",background:"#000",opacity:.8}).appendTo($(window.parent.document.body))}$(window.parent.document).find("#lockpage").css("height",$(document).height()+"px"),0==$(window.parent.document).find(t.selector).length?($(t).appendTo($(window.parent.document.body)),$(window.parent.document).find(t).css({position:"fixed",zIndex:e+1,left:o,top:s,display:"block"})):$(window.parent.document).find(t.selector).css({position:"fixed",zIndex:e+1,left:o,top:s,display:"block"}),KZ.pageLock.hide(n,t,a),"function"==typeof i&&i()},hide:function(e,t,n){$(window.parent.document).find(e).click(function(e){"undefined"==typeof n&&$(window.parent.document).find(t).appendTo("body"),$(t).hide(),$(window.parent.document).find("#lockpage").remove(),e.preventDefault()})},runHide:function(e){$(window.parent.document).find(e.selector).length>0?setTimeout(function(){$(window.parent.document).find(e).remove()},100):$(window.parent.document).find(e).hide(),$(window.parent.document).find("#lockpage").remove()},runRemove:function(e){$(window.parent.document).find(e).appendTo("body"),$(e).hide(),$(window.parent.document).find("#lockpage").remove()}}},$(function(){select_menu(),salary(),jobslist()});var explorer=window.navigator.userAgent;if(explorer.indexOf("MSIE")>=0){var b_version=navigator.appVersion,version=b_version.split(";");window.IE=parseInt(version[1].replace(/[^\d\.]/g,"")),$("html").addClass("ie")}else window.IE=0;if(window.IE>0&&window.IE<9&&!Array.prototype.indexOf&&(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(e===this[t])return t;return-1}),define("u/base",function(){}),$(function(){function e(e){$("input,textarea,select").each(function(t,n){var i;if(i=1==!e.attr("islayer")?$(this):e,"undefined"!=typeof i.attr("val")){if(i.val()!=i.attr("val"))return $(window.parent.document).find("[isedit]").attr("isedit",1),!1;if(i.val()==i.attr("val"))return $(window.parent.document).find("[isedit]").attr("isedit",""),!0}})}$(".g_tips .close").click(function(){$(this).closest(".g_tips").hide(),"function"==typeof window.chatResize&&window.chatResize()});var t=$(".person");$(".person_layer");t.find(".face,.i_pulldown").bind("click",function(e){t.addClass("cur"),e.preventDefault()});var n=null;t.hover(function(){n&&(clearTimeout(n),n=null)},function(){n||(n=setTimeout(function(){t.removeClass("cur")},200))}),$("input,textarea,select").bind("input change",function(){e($(this))}),$(".aside_nav_bar").length>0&&$(".aside_nav_bar").each(function(e,t){var n=$(this),i=n.find(".item"),a=n.find(".tit"),o=n.find("ul li,.candicator,.avatar_box .avatar");a.click(function(e){$(window.parent.document).find("#menuFrame").attr("scrolling","auto"),n.find("ul").hide(),o.removeClass("cur"),i.removeClass("open");$(this).data("url");$(this).parent().hasClass("on")&&!$(this).hasClass("candicator")?$(this).parent().removeClass("on").removeClass("open"):(i.removeClass("on"),$(this).parent().find("ul").show(),$(this).parent().addClass("on").addClass("open"))}),o.find("a").click(function(){var e=$(this).data("url");return $(this).find("em").hasClass("lock")?($(window.parent.document).find("#chat").hide(),$(window.parent.document).find("#viewer").hide(),$("#menuFrame").attr("src",e).show(),!1):void 0}),$(window.parent.document).find("[mid=1_1]").click(function(){var e=$(this).data("url");return $.ajax({url:e,type:"POST",dataType:"json",success:function(e){0==!e.jobStatus?(KZ.pageLock.show(1e3,$("#layer_0"+e.jobStatus),$("#layer_0"+e.jobStatus+" .delete,#layer_0"+e.jobStatus+" .cancle")),4==e.jobStatus&&$(".sure").click(function(){KZ.pageLock.runHide("#layer_0"+e.jobStatus)})):($("#menuFrame").attr("src",$(window.parent.document).find("[mid=1_1]").find("a").attr("href")),$("#menuFrame").show(),$("#chat").hide(),$("#viewer").hide())},error:function(e){BackErr(e)}}),!1}),o.click(function(e){if($(window.parent.document).find("#menuFrame").attr("scrolling","auto"),!$(this).hasClass("cur")){o.removeClass("cur");var t=$(this).find("a").attr("href");if(window.tabs=function(e){return 1==$(window.parent.document).find("[isedit]").attr("isedit")?($(this).hasClass("candicator")?(KZ.pageLock.show(1e3,"#save_tip","#save_tip .delete,#save_tip .cancle"),$("#save_tip a.sure").click(function(){$(this).parent().addClass("open"),$(window.parent.document).find("[isedit]").attr("isedit",""),$("#chat").show(),$("#menuFrame").hide(),$("#viewer").hide(),KZ.pageLock.runHide("#save_tip"),$(window.parent.document).find("[isedit]").attr("isedit","")})):(KZ.pageLock.show(1e3,"#save_tip","#save_tip .delete,#save_tip .cancle"),$("#save_tip a.sure").attr("href",e),$("#save_tip a.sure").click(function(){KZ.pageLock.runHide("#save_tip"),$(window.parent.document).find("[isedit]").attr("isedit","")})),window.top.t_flg=!1,!1):(window.top.t_flg=!0,void($(this).hasClass("candicator")?($(window.parent.document).find("[isedit]").attr("isedit",""),$("#chat").show(),$("#viewer").hide(),$("#menuFrame").hide()):($(this).addClass("cur"),"1_1"!=$(this).attr("mid")&&($("#menuFrame").show(),$("#chat").hide(),$("#viewer").hide()))))},1==$(window.parent.document).find("[isedit]").attr("isedit"))return $(this).hasClass("candicator")?(KZ.pageLock.show(1e3,"#save_tip","#save_tip .delete,#save_tip .cancle"),$("#save_tip a.sure").click(function(){$(this).parent().addClass("open"),$(window.parent.document).find("[isedit]").attr("isedit",""),$("#chat").show(),$("#menuFrame").hide(),$("#viewer").hide(),KZ.pageLock.runHide("#save_tip"),$(window.parent.document).find("[isedit]").attr("isedit","")})):(KZ.pageLock.show(1e3,"#save_tip","#save_tip .delete,#save_tip .cancle"),$("#save_tip a.sure").attr("href",t),$("#save_tip a.sure").click(function(){KZ.pageLock.runHide("#save_tip"),$(window.parent.document).find("[isedit]").attr("isedit","")})),!1;$(this).hasClass("candicator")?($(window.parent.document).find("[isedit]").attr("isedit",""),$("#chat").show(),$("#menuFrame").hide(),$("#viewer").hide()):($(this).addClass("cur"),"1_1"!=$(this).attr("mid")&&($("#menuFrame").show(),$("#chat").hide(),$("#viewer").hide())),IsVisible()}})});var i=window.top,a=$(i).find("#elMenuFrame");a.css("min-height",i.innerHeight-78+"px"),$(i).on("resize",function(){a.css("min-height",i.innerHeight-78+"px")}),$("[chatbox]").click(function(){$(this).find("span").hasClass("lock")&&($("#menuFrame").show(),$("#chat").hide(),$("#viewer").hide())}),$("[zw_num]").length>0&&$(window.parent.document).find("[mid=1_2] span").text("已有职位（"+$("[zw_num]").attr("zw_num")+"）"),$(".resume-box").length||$("input[readonly]:not(.nomodify)").each(function(){0==$(this).closest(".kz_select").length&&0==$(this).closest("dd").find("select").length&&0==$(this).closest(".baseinfo_unable").length&&$(this).css("background","#f1f1f1")}),$(window.parent.document).find("[isedit]").attr("isedit",""),$(".candidate_block_style").length>1&&$(".c_b_btn").click(function(){$(".candidate_block").fadeOut(350),$(".candidate_block_step").fadeIn(500)}),$(".tags").each(function(e,t){var n=$(this),i=n.find("a");i.click(function(e){var t=$(this).attr("href");return"tabs"in window.top&&window.top.tabs(t),IsVisible(),window.top.t_flg})})}),$("[openurl]").length>0){var openid=$("[openurl]").attr("openurl");$(window.parent.document).find(".nav_items").each(function(e,t){var n=$(this),i=n.find(".item"),a=n.find("ul li");a.removeClass("cur"),i.removeClass("open"),$(window.parent.document).find("[mid="+openid+"]").addClass("cur"),$(window.parent.document).find("[mid="+openid+"]").closest(".item").find("span").removeClass("lock").addClass("arrow"),$(window.parent.document).find("[mid="+openid+"]").closest(".item").find("ul").show(),$(window.parent.document).find("[mid="+openid+"]").closest(".item").addClass("open"),$(window.parent.document).find("#menuFrame").show(),$(window.parent.document).find("#chat").hide(),$(window.parent.document).find("#viewer").hide()})}if($("[rz]").length>0&&($(window.parent.document).find(".avatar_box .avatar .v").remove(),$(window.parent.document).find(".avatar_box .name").text($("[user_rz]").val())),define("u/menu",function(){}),this.ngdly=this.ngdly||{},function(){function e(e){this.init(e)}var t=e.prototype;t.settings={cid:"",token:"",getEmailListUrl:"",addEmailUrl:"",resendCheckUrl:"",onAddEmail:function(e){}},t.init=function(e){$.extend(t.settings,e)},t.getEmailList=function(e){$.ajax({url:t.settings.getEmailListUrl,data:{uid:t.settings.uid,token:t.settings.token},success:function(t){t.status?e(t.data):alert("获取邮箱列表失败")},error:function(){alert("获取邮箱列表错误")}})},t.rander=function(){},t.sprite={add:{init:function(){var e=this,n=$('<div class="l_tips" style="display:none;">								<div class="head">									<a class="delete"></a>									<span>温馨提示</span>								</div>								<div class="cont">									<p class="tip">您还没有添加过”接收简历”邮箱，需要添加至少1个我们建议您使用公司官方邮箱</p>									<div class="ip_mail">										<input type="text" placeholder="请输入邮箱"/>									</div>									<div class="btn">										<a class="kz_btn btn_a btn_a3" href="#">下一步</a>									</div>								</div>							</div>'),i=n.find(".ip_mail input");i.bind("blur",function(e){t.sprite.checkEmailFormat($(this).val())||$(this).parent().append('<div class="ip_tip"><i></i><span>输入的邮箱不符合规范</span></div>')}).bind("focus",function(){$(this).next(".ip_tip").remove()}),n.find(".btn a").bind("click",function(a){if($(this).hasClass("sending"))return!1;$(this).addClass("sending");var o=i.val();return t.sprite.checkEmailFormat(o)?($.post(t.settings.addEmailUrl,{email:o},function(n){n.rescode?("function"==typeof t.settings.onAddEmail&&t.settings.onAddEmail(o),e.hide()):alert(n.resmsg)}),void a.preventDefault()):(n.find(".ip_mail").append('<div class="ip_tip"><i></i><span>输入的邮箱不符合规范</span></div>'),!1)}),this.html=n},show:function(){this.html.appendTo("body"),n.show(9999,this.html,this.html.find(".head .delete"))},hide:function(){n.hide(this.html),this.html.remove()}},check:{init:function(e){var n=this,i=$('<div class="l_tips" style="display:none;">								<div class="head">									<a class="delete"></a>									<span>温馨提示</span>								</div>								<div class="cont">									<p class="tip">我们已将验证邮件发送至<span>12345@qq.com</span><br>请查阅邮件并完成验证</p>									<div class="resent_btn">										<a class="kz_btn btn_a btn_a3 disable" href="#"><span>120</span>秒后重新发送</a>										<a class="kz_btn btn_a btn_a3" href="#">重新发送</a>									</div>									<div class="infos">										<div class="info_link">											<i></i>											<a href="javascript:void(0)">没有收到验证邮件？</a>										</div>										<ul class="info_rules">											<li><span>看看是否在邮箱的垃圾邮箱、广告邮件目录里</span></li>											<li><span>稍等几分钟还未收到验证邮件？重新发送验证邮件</span></li>										</ul>									</div>								</div>							</div>');i.find(".tip span").text(e).end().find(".resent_btn a:eq(1)").bind("click",function(e){n.sendEmail(),e.preventDefault()});var a=!1;this.sendEmail=function(){if(!a){a=!0;var e=setInterval(function(){t.getEmailList(function(i){i.length>t.emailList.length&&(n.hide(),t.sprite.list.show(),clearInterval(e))})},2e3);i.find(".resent_btn a").eq(1).hide().end().eq(0).show();var o=i.find(".resent_btn a:eq(0) span"),s=120;setInterval(function(){o.text(s),s--,0>s&&(i.find(".resent_btn a").eq(0).hide().end().eq(1).show(),a=!1)},1e3)}},this.html=i},show:function(){this.html.appendTo("body"),n.show(9999,this.html,this.html.find(".head .delete")),this.sendEmail()},hide:function(){this.html.remove()}},list:{init:function(){var e=$('<div class="l_tips" style="display:none;">								<div class="head">									<a class="delete"></a>									<span>温馨提示</span>								</div>								<div class="cont">									<p class="tip">最多选择<em>4</em>个邮箱，已选择<em class="green">1</em>个</p>									<div class="mail_list">										<ul>											<li>												<div class="mail_info">													<i></i>													<span>123@qq.com</span>												</div>												<span class="ver_suc green">验证成功</span>											</li>											<li>												<div class="mail_info">													<i class="checked"></i>													<span>123@qq.com</span>												</div>												<span class="ver_suc green">验证成功</span>											</li>											<li>												<div class="mail_info">													<i></i>													<span>123@qq.com</span>												</div>												<span class="ver_suc green">验证成功</span>											</li>										</ul>									</div>									<div class="ex_add green">										<i></i><span>继续添加</span>									</div>									<div class="ex_add">										<span>继续添加</span>									</div>									<div class="btn">										<a class="kz_btn btn_a btn_a3" href="#">完成</a>									</div>									<div class="add_mail_box">										<a class="kz_btn btn_a btn_a3" href="#">下一步</a>										<div class="add_mail"><input type="email" placeholder="123@qq.com"/></div>									</div>								</div>							</div>'),t=e.find(".tip .green"),n=e.find(".mail_list>ul"),i=function(e){
for(var t=0;t<e.length;t++)a(e[t])},a=function(e){var n=$('<li>									<label class="mail_info">										<input type="checkbox" >										<i class="checked"></i>										<span>123@qq.com</span>									</label>									<span class="ver_suc green">验证成功</span>								</li>'),i=n.find(".mail_info input").get(0);n.find(".mail_info").bind("click",function(e){i.checked?$(this).find("i").removeClass("checked"):$(this).find("i").addClass("checked"),t.text(o)}).end().find("span").text(e.email)},o=function(){return n.find(".mail_info input[type=checkbox]:checked").length};this.html=e,this.createList=i},show:function(){this.html.appendTo("body"),n.show(9999,this.html,this.html.find(".head .delete"))},hide:function(){this.html.remove()}},checkEmailFormat:function(e){return!!e.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)}};var n={show:function(e,t,i,a){var o=($(window).width()-$(t).outerWidth())/2,s=($(window).height()-$(t).outerHeight())/2;if(!$("#lockpage").length){$("<div id='lockpage'/>").css({position:"absolute",zIndex:e?e:20,left:0,top:0,width:"100%",height:$(document).height(),background:"#000",opacity:.3}).appendTo("body")}$("#lockpage").css({opacity:0,display:"block"}).animate({opacity:.8},300),$(t).css({position:"fixed",zIndex:e+1,left:o,top:s}),$(t).show(),$(i).click(function(e){return $(t).hide(),n.hide(),e.preventDefault(),!1}),"function"==typeof a?$("#lockpage").one("click",a):$("#lockpage").unbind("click")},hide:function(e){$("#lockpage").hide(),$(e).hide()},start:function(e,t,n){$(t).click(function(t){KZ.pageLock.show("",e,n),t.preventDefault()})}};t.sprite.add.init(),t.sprite.check.init(),t.sprite.list.init(),ngdly.checkSelectEmail=e}(),define("u/checkselectemail",function(){}),$(function(){$.extend({initUploadPortrait:function(e){var t=$.extend({title:"上传照片",url:"uploadURL=/companyugc/upload/logo.json?c=uploadPortrit&amp;jsCallback=uploadOk",callback:null},e),n="";n+='<section class="p_dialog uploadPortrait"><div class="dialog_con"><a href="#" rel="nofollow" class="dialog_close"></a><div id="uploadLogoFlash"><h3>'+t.title+'</h3><object id="FlashID" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="550" height="440"><param name="movie" value="/v2/chat_v2/images/portrait.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="flashVars" value="'+t.url+'" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="/v2/chat_v2/images/portrait.swf" width="550" height="440"><!--<![endif]--><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="flashVars" value="'+t.url+'" /><!--[if !IE]>--></object><!--<![endif]--></object></div></div></section>',$(".p_dialog").length<=0&&$(n).appendTo("body"),KZ.pageLock.show(1e3,".uploadPortrait",".uploadPortrait .dialog_close"),top.uploadOk=function(e){var n="string"==typeof e?$.parseJSON(e):e;if(n&&1==n.rescode){var i=n.url||[];t.callback&&(t.callback(i),KZ.pageLock.runHide(".uploadPortrait"))}else alert("图片上传失败")}}})}),define("u/uploadPortrait_dialog",function(){}),function(e){"function"==typeof define&&define.amd?define("u/maskui",e):e()}(function(){String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d)\}/g,function(){return e[arguments[1]]})};var e=(window.document,{zIndex:100,css:{position:"fixed"},overlayCss:{backgroundColor:"#000",opacity:.7,position:"fixed",left:0,top:0,width:"100%",height:"100%"},pos:"fixed",overlayClick:!1,needOverlay:!0,onOpen:null,onClose:null,resetForm:!1,destroy:!1,noClose:null}),t=function(){};t.queue=[],t.queueClear=function(){$.each(t.queue,function(e,t){t.destroy?t.ui.remove():t.ui.hide(),t=null}),t.queue=[]},t.clearMask=function(e){$.each(t.queue,function(n,i){i.id==e.noClose?i.ui.hide():i.destroy?(i.ui.remove(),t.queue.splice(n,1)):i.ui.hide()})},t.prototype={open:function(t){var n,i=t.elem;if("string"!=typeof i||t.content)if("object"==typeof i&&i.nodeType&&1==i.nodeType)n=$(i);else if("object"==typeof i&&void 0!==i.selector&&i.length>0)n=i;else{if(void 0===t.content)return!1;var a=t.id;n=a&&$("#"+a).length?$("#"+a):$($.maskUI.config.wrap.format(a||"",t.content)),t.contentClass&&n.addClass(t.contentClass),t.destroy="undefined"==typeof t.destroy?!0:t.destroy}else n=$("#"+i);t.ui=n,$.extend(!0,this,e,t),$.isFunction(this.onOpen)&&this.onOpen.call(n,this),this.needOverlay&&this.createOverlay(),this.createContent()},alert:function(e,t){"string"==typeof e?this.open({content:$.maskUI.config.alert.format(e,t||"确定")}):$.isPlainObject(e)&&(e.content=$.maskUI.config.alert.format(e.msg,t||"确定"),this.open(e))},confirm:function(e){var t=this;this.createCallback=function(){var n=this;n.on("click","a.confirm_ok",function(i){i.preventDefault(),e.callback.call(n),$.maskUI.close.call(n,t)})},e.content=$.maskUI.config.confirm.format(e.msg,e.className),e.overlayClick=!1,this.open(e)},createOverlay:function(){var e={"z-index":this.zIndex};t.overlay?t.overlay.css($.extend({},this.overlayCss,e)).show():t.overlay=$("<div/>").attr("id","maskOverlay").css($.extend({},this.overlayCss,e)).prependTo($("body")),this.noClose?t.clearMask(this):t.queueClear()},createContent:function(){var e=this.ui,n=this;this.noClose?t.clearMask(this):t.queueClear(),$.contains(document.body,e[0])||e.appendTo($("body"));var i,a=$(window).height(),o=this.ui.outerHeight(),s=o>a;if(s&&(this.pos="absolute"),"fixed"===this.pos)i={"margin-left":-1*Math.floor(e.outerWidth()/2)+"px","margin-top":-1*Math.floor(e.outerHeight()/2)+"px",top:"50%",left:"50%",position:"fixed","z-index":parseInt(this.zIndex,10)+1,display:"block"};else if("absolute"===this.pos){var r;r=s?parseInt($(window).scrollTop())+10:parseInt($(window).scrollTop())+(a-o)/2,i={"margin-left":-1*Math.floor(e.outerWidth()/2)+"px",top:r,left:"50%",position:"absolute","z-index":parseInt(this.zIndex,10)+1,display:"block"}}e.css($.extend({},this.css,i)),t.queue.push(n),this.overlayClick&&$("#maskOverlay").on("click",function(){$.maskUI.close.call(e,n)}),e.find(".maskui_close, .maskuiclose, #dialogClose, a.dialog_close").on("click",function(t){t.preventDefault(),$.maskUI.close.call(e,n)}),this.createCallback&&this.createCallback.call(e)}},$.maskUI={config:{wrap:'<section class="maskui_dialog" id="{0}"><div class="dialog_con"><a href="javascript:;" class="dialog_close"></a>{1}</div></section>',alert:'<div class="dialog_ac"><div>{0}</div><p><a href="javascript:;" class="maskui_close dialog_btn">{1}</a></p></div>',confirm:'<div class="dialog_ac"><div>{0}</div><p><a href="javascript:;" class="confirm_ok dialog_btn">确定</a><a href="javascript:;" class="maskui_close dialog_btn">取消</a></p></div>'},open:function(e){var n=new t;return n.open(e),n},alert:function(e,n){var i=new t;return i.alert(e,n),i},confirm:function(e){var n=new t;return n.confirm(e),n},close:function(e){if($("#maskOverlay").fadeOut(e&&e.noClose?0:200).off("click"),this.selector&&this.find(".maskui_close, .maskuiclose, #dialogClose, a.dialog_close").off("click"),e&&e.noClose?t.clearMask(e):t.queueClear(),e){if(e.onClose&&e.onClose.call(this,e),e.resetForm){var n=this.find("form").eq(0);n.length&&n[0].reset()}e.destroy&&this.remove()}}}}),$(function(){var e={},t=$(".list_company li:not(:last)");t.each(function(t,n){$(this).on("click",function(t){var n=$(this),i=n.find("h3").text(),a=n.find("p").text(),o=n.data("personnum"),s=n.data("id");e={industry:a,companyShort:i,personNum:o,brandId:s},KZ.pageLock.show(1e3,"#l_selectcompany","#l_selectcompany .delete,#l_selectcompany .btns a")})});var n=$("#l_selectcompany .sure");n.bind("click",function(){$(".zw_form .listcinfo").hide(),$(".zw_form .info_iptext").show(),$(".info_iptext .ipt_industry").val(e.industry),$(".info_iptext .inpt_short").val(e.companyShort),$(".info_iptext .ipat_scale").val(e.personNum),$("form.zhiwei input:hidden.brandid").val(e.brandId)}),$(".listcinfo .add_mail_2,.addcompanybuttonbox .add_mail_2").bind("click",function(){KZ.pageLock.show(1e3,"#company_base","#company_base .delete")})}),define("u/select_companyinfo",function(){}),"undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;!function(e){"use strict";e.fn.confirm=function(t,n){return"undefined"==typeof t&&(t={}),"string"==typeof t&&(t={content:t,title:n?n:!1}),e(this).each(function(){var n=e(this);n.on("click",function(i){i.preventDefault();var a=e.extend({},t);n.attr("data-title")&&(a.title=n.attr("data-title")),n.attr("data-content")&&(a.content=n.attr("data-content")),a.$target=n,n.attr("href")&&!t.confirm&&(a.confirm=function(){location.href=n.attr("href")}),e.confirm(a)})}),e(this)},e.confirm=function(e,t){return"undefined"==typeof e&&(e={}),"string"==typeof e&&(e={content:e,title:t?t:!1}),jconfirm(e)},e.alert=function(e,t){return"undefined"==typeof e&&(e={}),"string"==typeof e&&(e={content:e,title:t?t:!1}),e.cancelButton=!1,jconfirm(e)},e.dialog=function(e,t){return"undefined"==typeof e&&(e={}),"string"==typeof e&&(e={content:e,title:t?t:!1}),e.cancelButton=!1,e.confirmButton=!1,e.confirmKeys=[13],jconfirm(e)},jconfirm=function(t){"undefined"==typeof t&&(t={}),jconfirm.defaults&&e.extend(jconfirm.pluginDefaults,jconfirm.defaults);var t=e.extend({},jconfirm.pluginDefaults,t);return new Jconfirm(t)},Jconfirm=function(t){e.extend(this,t),this._init()},Jconfirm.prototype={_init:function(){var e=this;this._rand=Math.round(99999*Math.random()),this._buildHTML(),this._bindEvents(),setTimeout(function(){e.open(),e._watchContent()},0)},_buildHTML:function(){var t=this;this.animation="anim-"+this.animation.toLowerCase(),this.closeAnimation="anim-"+this.closeAnimation.toLowerCase(),this.theme="jconfirm-"+this.theme.toLowerCase(),"anim-none"==this.animation&&(this.animationSpeed=0),this._lastFocused=e("body").find(":focus"),this.$el=e(this.template).appendTo(this.container).addClass(this.theme),this.$el.find(".jconfirm-box-container").addClass(this.columnClass),this.$el.find(".jconfirm-bg").css(this._getCSS(this.animationSpeed,1)),this.$el.find(".jconfirm-bg").css("opacity",this.opacity),this.$b=this.$el.find(".jconfirm-box").css(this._getCSS(this.animationSpeed,this.animationBounce)).addClass(this.animation),this.$body=this.$b,this.rtl&&this.$el.addClass("rtl"),this._contentReady=e.Deferred(),this._modalReady=e.Deferred(),this.$title=this.$el.find(".title"),this.contentDiv=this.$el.find("div.content"),this.$content=this.contentDiv,this.$contentPane=this.$el.find(".content-pane"),this.$icon=this.$el.find(".icon-c"),this.$closeIcon=this.$el.find(".closeIcon"),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.setTitle(),this.setIcon(),this._setButtons(),this.closeIconClass&&this.$closeIcon.html('<i class="'+this.closeIconClass+'"></i>'),t._contentHash=this._hash(t.$content.html()),e.when(this._contentReady,this._modalReady).then(function(){t.setContent(),t.setTitle(),t.setIcon()}),this._getContent(),this._imagesLoaded(),this.autoClose&&this._startCountDown()},_unwatchContent:function(){clearInterval(this._timer)},_hash:function(){return"function"==typeof btoa?btoa(encodeURIComponent(this.$content.html())):void 0},_watchContent:function(){var e=this;this._timer=setInterval(function(){var t=e._hash(e.$content.html());e._contentHash!=t&&(e._contentHash=t,e.setDialogCenter(),e._imagesLoaded())},this.watchInterval)},_bindEvents:function(){var t=this,n=!1;this.$el.find(".jconfirm-scrollpane").click(function(e){n||(t.backgroundDismiss?(t.cancel(),t.close()):(t.$b.addClass("hilight"),setTimeout(function(){t.$b.removeClass("hilight")},800))),n=!1}),this.$el.find(".jconfirm-box").click(function(e){n=!0}),this.$confirmButton&&this.$confirmButton.click(function(e){e.preventDefault();var n=t.confirm(t.$b);t._stopCountDown(),t.onAction("confirm"),("undefined"==typeof n||n)&&t.close()}),this.$cancelButton&&this.$cancelButton.click(function(e){e.preventDefault();var n=t.cancel(t.$b);t._stopCountDown(),t.onAction("cancel"),("undefined"==typeof n||n)&&t.close()}),this.$closeButton&&this.$closeButton.click(function(e){e.preventDefault(),t._stopCountDown(),t.cancel(),t.onAction("close"),t.close()}),this.keyboardEnabled&&setTimeout(function(){e(window).on("keyup."+this._rand,function(e){t.reactOnKey(e)})},500),e(window).on("resize."+this._rand,function(){t.setDialogCenter(!0)})},_getCSS:function(e,t){return{"-webkit-transition-duration":e/1e3+"s","transition-duration":e/1e3+"s","-webkit-transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")","transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")"}},_imagesLoaded:function(){var t=this;e.each(this.$content.find("img:not(.loaded)"),function(n,i){var a=setInterval(function(){var n=e(i).css("height");"0px"!==n&&(e(i).addClass("loaded"),t.setDialogCenter(),clearInterval(a))},40)})},_setButtons:function(){this.$btnc=this.$el.find(".buttons"),this.confirmButton&&""!==e.trim(this.confirmButton)&&(this.$confirmButton=e('<button type="button" class="btn">'+this.confirmButton+"</button>").appendTo(this.$btnc).addClass(this.confirmButtonClass)),this.cancelButton&&""!==e.trim(this.cancelButton)&&(this.buttonsReverse?this.$cancelButton=e('<button type="button" class="btn">'+this.cancelButton+"</button>").prependTo(this.$btnc).addClass(this.cancelButtonClass):this.$cancelButton=e('<button type="button" class="btn">'+this.cancelButton+"</button>").appendTo(this.$btnc).addClass(this.cancelButtonClass)),this.buttonOther&&""!==e.trim(this.buttonOther)&&e(this.buttonOther).prependTo(this.$btnc),this.confirmButton||this.cancelButton||this.$btnc.hide(),this.confirmButton||this.cancelButton||null!==this.closeIcon||(this.$closeButton=this.$b.find(".closeIcon").show()),this.closeIcon===!0&&(this.$closeButton=this.$b.find(".closeIcon").show())},setTitle:function(e){this.title="undefined"!=typeof e?e:this.title,this.$title.html(this.title||"")},setIcon:function(e){this.title="undefined"!=typeof string?e:this.title,this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':"")},setContent:function(e){this.content="undefined"==typeof e?this.content:e,""==this.content?(this.$content.html(this.content),this.$contentPane.hide()):(this.$content.html(this.content),this.$contentPane.show()),this.$content.hasClass("loading")&&(this.$content.removeClass("loading"),this.$btnc.find("button").prop("disabled",!1))},_getContent:function(t){var n=this;if(t=t?t:this.content,this._isAjax=!1,this.content)if("string"==typeof this.content)if("url:"===this.content.substr(0,4).toLowerCase()){this._isAjax=!0,this.$content.addClass("loading"),this.$btnc.find("button").prop("disabled",!0);var i=this.content.substring(4,this.content.length);e.get(i).done(function(e){n.content=e,n._contentReady.resolve()}).always(function(e,t,i){"function"==typeof n.contentLoaded&&n.contentLoaded(e,t,i)})}else this.setContent(this.content),this._contentReady.reject();else if("function"==typeof this.content){this.$content.addClass("loading"),this.$btnc.find("button").attr("disabled","disabled");var a=this.content(this);"object"!=typeof a?console.error("The content function must return jquery promise."):"function"!=typeof a.always?console.error("The object returned is not a jquery promise."):(this._isAjax=!0,a.always(function(e,t){n._contentReady.resolve()}))}else console.error("Invalid option for property content, passed: "+typeof this.content);else this.content="",this.setContent(this.content),this._contentReady.reject();this.setDialogCenter()},_stopCountDown:function(){clearInterval(this.timerInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var t=this.autoClose.split("|");if(/cancel/.test(t[0])&&"alert"===this.type)return!1;if(/confirm|cancel/.test(t[0])){this.$cd=e('<span class="countdown"></span>').appendTo(this["$"+t[0]+"Button"]);var n=this;n.$cd.parent().click();var i=t[1]/1e3;this.timerInterval=setInterval(function(){n.$cd.html(" ("+(i-=1)+")"),0===i&&(n.$cd.html(""),n.$cd.parent().trigger("click"),clearInterval(n.timerInterval))},1e3)}else console.error("Invalid option "+t[0]+", must be confirm/cancel")},reactOnKey:function t(n){var i=e(".jconfirm");if(i.eq(i.length-1)[0]!==this.$el[0])return!1;var t=n.which;return this.contentDiv.find(":input").is(":focus")&&/13|32/.test(t)?!1:(-1!==e.inArray(t,this.cancelKeys)&&(this.$cancelButton?this.$cancelButton.click():this.close()),void(-1!==e.inArray(t,this.confirmKeys)&&this.$confirmButton&&this.$confirmButton.click()))},setDialogCenter:function(){if("none"==this.$contentPane.css("display"))var t=0,n=0;else{var t=this.$content.outerHeight(),n=this.$contentPane.height();0==n&&(n=t)}var i=100,a=this.$content.outerWidth();this.$content.css({clip:"rect(0px "+(i+a)+"px "+t+"px -"+i+"px)"}),this.$contentPane.css({height:t});var o=e(window).height(),s=this.$b.outerHeight()-n+t,r=(o-s)/2,l=100;if(s>o-l){var c={"margin-top":l/2,"margin-bottom":l/2};e("body").addClass("jconfirm-noscroll")}else{var c={"margin-top":r};e("body").removeClass("jconfirm-noscroll")}this.$b.css(c)},close:function(){var t=this;if(this.isClosed())return!1;"function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),t._lastFocused.focus(),e(window).unbind("resize."+this._rand),this.keyboardEnabled&&e(window).unbind("keyup."+this._rand),t.$el.find(".jconfirm-bg").removeClass("seen"),e("body").removeClass("jconfirm-noscroll"),this.$b.addClass(this.closeAnimation);var n="anim-none"==this.closeAnimation?0:this.animationSpeed;return setTimeout(function(){t.$el.remove()},25*n/100),jconfirm.record.closed+=1,jconfirm.record.currentlyOpen-=1,!0},open:function(){var e=this;if(this.isClosed())return!1;e.$el.find(".jconfirm-bg").addClass("seen"),this.$b.removeClass(this.animation),this.$b.find("input[autofocus]:visible:first").focus(),jconfirm.record.opened+=1,jconfirm.record.currentlyOpen+=1,"function"==typeof this.onOpen&&this.onOpen();var t="jconfirm-box"+this._rand;return this.$b.attr("aria-labelledby",t).attr("tabindex",-1).focus(),this.$title?this.$title.attr("id",t):this.$content&&this.$content.attr("id",t),setTimeout(function(){e.$b.css({"transition-property":e.$b.css("transition-property")+", margin"}),e._modalReady.resolve()},this.animationSpeed),!0},isClosed:function(){return""===this.$el.css("display")}},jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg"></div><div class="jconfirm-scrollpane"><div class="container"><div class="row"><div class="jconfirm-box-container"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="closeIcon">&times;</div><div class="title-c"><span class="icon-c"></span><span class="title"></span></div><div class="content-pane"><div class="content"></div></div><div class="buttons"></div><div class="jquery-clear"></div></div></div></div></div></div></div>',title:"提示",content:"确定吗",contentLoaded:function(){},icon:"",opacity:null,confirmButton:"确定",cancelButton:"取消",confirmButtonClass:"btn",cancelButtonClass:"btn btn-slight",buttonsReverse:!1,theme:"white",animation:"scale",closeAnimation:"scale",animationSpeed:500,animationBounce:1.2,keyboardEnabled:!1,rtl:!1,confirmKeys:[13],cancelKeys:[27],container:"body",confirm:function(){},cancel:function(){},backgroundDismiss:!0,autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"pop-container",onOpen:function(){},onClose:function(){},onAction:function(){}},jconfirm.record={opened:0,closed:0,currentlyOpen:0}}(jQuery),define("u/plugins/jquery-confirm",function(){}),require.config({paths:{u:"../../js/utils"}}),require(["u/vali","u/base","u/menu","u/checkselectemail","u/uploadPortrait_dialog","u/maskui","u/select_companyinfo","u/plugins/jquery-confirm"],function(){$(function(){function jineng(e){var t=$("[level2]").attr("level2");t&&""!=t||($(e).parents(".Rcheck").trigger("fun"),$(e).parents(".Rcheck").find(".error_hint").remove(),$(e).hasClass("required")?$(e).removeClass("kz_error"):$(e).parents(".required").removeClass("kz_error"),KZ.form.Prompt("请先选择职位名称",1))}function Com_size(e){if(e.hasClass("P_money_min")){var t=$(".P_money_min").val(),n=$(".P_money_max").val();if(""==t)return ErrorMessage(e,"最小金额不能为空"),!1;if(t=parseInt(t,10),1>t)return ErrorMessage(e,"最小金额不能小于1"),!1;if(t>50)return ErrorMessage(e,"最小金额不能大于50"),!1;if(""==n)return!0;if(n=parseInt(n,10),0>=n-t||n-t>t)return ErrorMessage(e,"最大金额"+(t+1)+"-"+2*t+"之间"),$(".P_money_min").parents(".required").removeClass("kz_error"),$(".P_money_max").focus(),$(".P_money_max").parents(".required").addClass("kz_error"),!1}else if(e.hasClass("P_money_max")){var t=$(".P_money_min").val(),n=$(".P_money_max").val();if(""==n)return ErrorMessage(e,"最大金额不能为空"),!1;if(""==t)return ErrorMessage(e,"最小金额不能为空"),$(".P_money_max").parents(".required").removeClass("kz_error"),$(".P_money_min").focus(),$(".P_money_min").parents(".required").addClass("kz_error"),!1;if(n=parseInt(n,10),2>n)return ErrorMessage(e,"最小金额不能小于2"),!1;if(n>100)return ErrorMessage(e,"最大金额不能大于100"),!1;if(""==t)return!0;if(t=parseInt(t,10),0>=n-t||n-t>t){var i=t+1,a=2*t;return i==a?txt="最大金额"+a:txt="最大金额"+(t+1)+"-"+2*t+"之间",ErrorMessage(e,txt),!1}}}function Cal_count(e,t){var n={};n.GetLength=function(e){for(var n=0,i=e.length,a=-1,o=0;i>o;o++)a=e.charCodeAt(o),n+=1==t&&a>=0&&128>=a?.5:1;return Math.round(n)},$(".Rcheck").each(function(e,t){var i=$(this);if(i.find("input,textarea").length>0){var a=i.find("input,textarea"),o=i.find(".num b");o.text(n.GetLength(a.val())),a.on("input",function(){var e=$(this),t=e.val(),a=i.find(".num b"),o=parseInt($(this).attr("maxlength"));parseInt(n.GetLength(t))>o/2?a.addClass("red"):a.removeClass("red"),a.text(n.GetLength(t)),i.find("[Optional]").length>0&&(t.length>0?e.attr("datatype",e.attr("Regular")):e.removeAttr("datatype"))})}})}function ErrorMessage(e,t){var n="<div class='error_hint'><i></i>"+t+"</div>";return!$(e).parents(".Rcheck").find(".error_hint").length>0?($(n).appendTo($(e).parents(".Rcheck")),$(e).hasClass("required")?$(e).addClass("kz_error"):$(e).parents(".required").addClass("kz_error"),!1):void 0}function ValiSuccess(e){$(e).parents(".Rcheck").find(".error_hint").remove(),$(e).hasClass("required")?$(e).removeClass("kz_error"):$(e).parents(".required").removeClass("kz_error")}function Verification(){function matchEliteUrl(e){elitePageUrl=_PAGE.elitePageUrl;for(var t=0;t<elitePageUrlMatch.length;t++){var n=elitePageUrlMatch[t].replace(/[\{\}]/g,"");e[n]&&(elitePageUrl=elitePageUrl.replace(elitePageUrlMatch[t],e[n]))}}$(".zhiwei").Verification({vali_btn:".vali_btn",ajaxpost:!0,showAllError:!1,onError:function(e,t){ErrorMessage(e,t)},onSuccess:function(e){ValiSuccess(e)},onFirstFun:function(o){var fun=$(o).attr("FirstFun");"undefined"!=typeof fun&&eval(fun)},onCallback:function(o){var fun=$(o).attr("AddFun");"undefined"!=typeof fun&&eval(fun)},beforeSubmit:function(e){var t={},n=$("form.zhiwei").find("input,select,textarea");n.each(function(){$(this).attr("name")&&(t[$(this).attr("name")]=$(this).val())});var i=$("form.zhiwei").attr("action"),a=$($(this)[0].vali_btn);a.hasClass("lock")||(a.addClass("lock"),$.ajax({url:i,type:"POST",data:t,dataType:"json",success:function(e){1==e.rescode?(matchEliteUrl(e),$(".layer_zhiwei_create .cont .tip span").text(e.geekCount),KZ.pageLock.show(9999,".layer_zhiwei_create",".layer_zhiwei_create .delete,.layer_zhiwei_create .btns a")):0==e.rescode?(a.removeClass("lock"),KZ.form.Prompt(e.resmsg,1)):isBeta&&(a.removeClass("lock"),window.top.$.confirm({content:"<p>"+e.resmsg+"</p>",title:"温馨提示",confirmButton:"确定",cancelButton:!1,closeIcon:!0,columnClass:"pop-tip",confirm:function(){window.location.href=_PAGE.listPageUrl}}))},error:function(e){a.removeClass("lock"),BackErr(e)}}))}})}function companyBaseVerification(){function ajaxSubmit(e,t,n){$.ajax({url:e,type:"POST",data:t,dataType:"json",success:function(e){if(1==e.rescode){if(n)var t=n.name,i=n.industryName,a=n.scaleName;else var t=$(window.parent.document).find(".company_base .inpt_short").val(),i=$(window.parent.document).find(".company_base .inpt_industry").val(),a=$(window.parent.document).find(".company_base .inpt_scale").val();var o={industry:i,companyShort:t,personNum:a};$(".info_iptext .ipt_industry").val(o.industry),$(".info_iptext .inpt_short").val(o.companyShort),$(".info_iptext .ipt_scale").val(o.personNum),$(".zw_form .listcinfo,.zw_form .addcompanybuttonbox").hide(),$(".zw_form .info_iptext").show(),$("form.zhiwei input:hidden.brandid").val(e.brandId),KZ.pageLock.runHide(".company_base")}else KZ.form.Prompt(e.resmsg,1)},error:function(e){BackErr(e)}})}function valiFormBtn(){var e=!1;$(".companybaseform input",window.top.document).each(function(){return""==$(this).val()?(e=!0,!1):void 0}),e?$(".companybaseform .vali_btn .save",window.top.document).addClass("disabled"):$(".companybaseform .vali_btn .save",window.top.document).removeClass("disabled")}function bindCompanyDetailInfo(e){""==e.logo&&(e.logo=_PAGE.assetUrl+"/images/v2/defaultlogo.png"),$(".company_base_info").find(".item_logo img").attr("src",e.logo).end().find(".item_name p").text(e.name).end().find(".item_fullname p").text(e.fullName).end().find(".item_industryName p").text(e.industryName).end().find(".item_scaleName p").text(e.scaleName).end().find(".item_stageName p").text(e.stageName).end().find(".item_homePage p").text(e.homePage).end()}$(".companybaseform .vali_btn .save").bind("click",function(e){$(this).hasClass("disabled")&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}),$(".companybaseform").Verification({vali_btn:".vali_btn .save",ajaxpost:!0,showAllError:!1,onError:function(e,t){ErrorMessage(e,t)},onSuccess:function(e){ValiSuccess(e)},onFirstFun:function(o){var fun=$(o).attr("FirstFun");"undefined"!=typeof fun&&eval(fun)},onCallback:function(o){var fun=$(o).attr("AddFun");"undefined"!=typeof fun&&eval(fun)},beforeCheck:function(e){return $(window.parent.document).find(".kzerror_hint").length>0?!1:!0},beforeSubmit:function(e){var t=$(window.parent.document).find(".companybaseform").attr("action"),n={};$(window.parent.document).find(".companybaseform input").each(function(){$(this).attr("name")&&(n[$(this).attr("name")]=$(this).val())}),ajaxSubmit(t,n)}}),$(".companybaseform input").bind("input",function(){valiFormBtn()}),$(".companybaseform .kz_select .layer_option li").bind("click",function(){setTimeout(function(){valiFormBtn()},200)}),window.top.$(".company_base_layer_tip").length>0&&window.top.$(".company_base_layer_tip").remove();var companyBaseLayerTip=$(".company_base_layer_tip").appendTo(top.document.body),companyBaseLayerTipCons=companyBaseLayerTip.find("p"),companyBaseLayerTipConsCurrent=null;companyBaseLayerTip.find(".btn_next").bind("click",function(e){companyBaseLayerTipConsCurrent.hide(),companyBaseLayerTipConsCurrent=companyBaseLayerTipConsCurrent.next("p").length?companyBaseLayerTipConsCurrent.next("p").show():companyBaseLayerTipCons.first().show(),e.preventDefault()}),companyBaseLayerTip.hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover"),setTimeout(function(){companyBaseLayerTip.hasClass("hover")||companyBaseLayerTip.hasClass("focus")||companyBaseLayerTip.hide()},200)});var companyDetailBox=$(".company_base .companydetailbox");$(".kz_search_brand").each(function(){var e=$(this).data("url"),t=$(this).parent(),n=$(this),i=$(this).siblings("[type=hidden]"),a={value:n.val(),data:i.val()},o=null,s=$('<div class="P_selectbox"><div class="box"><a href="#" class="btn_add">找不到？新建<span/></a></div></div>').css({top:t.outerHeight()}).hide().appendTo(t);s.find(".btn_add").bind("click",function(e){s.hide(),$.post(n.data("ajax"),{brandname:n.val()},function(e){e.rescode?($('<div class="kzerror_hint"><i></i>您输入的公司简称不合法</div>').appendTo(t),n.addClass("kz_error")):(companyDetailBox.css({visibility:"visible"}).isShow=!0,n.val().match(/^[a-zA-Z\d\u4e00-\u9fa5]+$/)||$('<div class="tip_createnewbrand">温馨提示：您的输入中包含除中文英文数字以外的字符</div>').appendTo(t))},"json"),e.preventDefault()}),$(this).searchBarEvent({url:e,input:"THIS",clear:null,cancel:null,onFocus:function(e){a={value:n.val(),data:i.val()},t.css({zIndex:1}),companyBaseLayerTip.addClass("focus").show().css({left:n.offset().left,top:n.offset().top+n.outerHeight()+14}),companyBaseLayerTipConsCurrent=companyBaseLayerTipCons.hide().first().show(),t.find(".tip_createnewbrand").remove(),t.find(".kzerror_hint").remove(),n.removeClass("kz_error")},onBlur:function(e){companyBaseLayerTip.removeClass("focus"),setTimeout(function(){companyBaseLayerTip.hasClass("hover")||companyBaseLayerTip.hide().removeClass("focus"),companyDetailBox.isShow||n.hasClass("kz_error")||n.val(""),s.hide()},500)},onClear:function(e){},onCancel:function(e){},onKey:function(e){companyBaseLayerTip.hide(),companyDetailBox.isShow&&(companyDetailBox.css({visibility:"hidden"}).isShow=!1,companyDetailBox.find("input").val(""))},onDataReadyBefore:function(e){return!!e},onData:function(e){s.show().css({top:t.outerHeight()}).find(".box .option").remove(),o=e.brandList,$.each(e.brandList,function(e,t){var o=t.logo;o||(o=_PAGE.assetUrl+"/images/v2/defaultlogo.png");var r=$('<a href="#" class="option"/>').append('<img src="'+o+'"/><h3>'+t.name+(t.industryName?"("+t.industryName+")":"")+"</h3>").on("click",function(e,o){selectBrandData=a=t,n.val(a.name),i.val(a.id),a.fullName=$(".company_base .inpt_fullname",top.document).val(),KZ.pageLock.runHide(".company_base"),bindCompanyDetailInfo(t),KZ.pageLock.show(9999,".company_base_info",".company_base_info .btn_back"),s.hide(),setTimeout(function(){n.trigger("checkall")},20),e.preventDefault()}).insertBefore(s.find(".box .btn_add")),l=$("<p/>");t.bossCount&&l.append(t.bossCount),t.jobCount&&(t.bossCount&&l.append(","),l.append(t.jobCount)),l.appendTo(r)}),s.find(".box .btn_add span").text(n.val())}})});var selectBrandData=null;$(".company_base_info .btn_back").bind("click",function(e){setTimeout(function(){KZ.pageLock.show(1e3,$(window.parent.document).find("#company_base"),$(window.parent.document).find("#company_base .delete"))},200),e.preventDefault()}),$(".company_base_info .btn_submit").bind("click",function(e){var t=$(".companybaseform",window.parent.document).attr("action"),n={id:selectBrandData.id};ajaxSubmit(t,n,selectBrandData),e.preventDefault()})}function phoneAnim(e,t){$(".phone").stop().animate({left:e+"px",opacity:t},1e3)}function Response(){var e=$(window).height()/1e3;$(".scan_box").css({zoom:e,"-moz-transform":"scale("+e+")"}),$(".scancode_bg").css({background:"url(http://www.bosszhipin.com/v2/chat_v1/images/scancode_bg.jpg) no-repeat center "+500*-(1-e+.1)+"px #fefaf7"})}function checkEmailFormat(e){return!!e.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)}function reCheck(e){checkEmailFormat(e)?isChecked=!0:(l_mail.find(".ip_tips").hide(),l_mail.find(".ip_mail .ip_tip").show(),isChecked=!1)}function l_mail_submit(){if(!isChecked)return!1;var e=l_mail.find(".hint"),t=l_mail.find(".loading"),n=l_mail.find("input"),i=l_mail.find("form");e.hide(),t.show();var a={email:n.val()},o=i.attr("action");$.ajax({url:o,type:"get",data:a,dataType:"json",success:function(i){if(i.rescode&&1==i.rescode){var a=$('<div class="inp_mail"><input type="text" class="required" ka="resume-email" name="userResumeEmail" Optional  Regular="e" AddFun="Cal_count(o)" length="[0,255]"   errormsg="邮箱格式有误"></div>');a.find("input").val(n.val()),a.appendTo(Rcheck_add_mail),Verification(),KZ.pageLock.runRemove("#l_mail"),$(".ip_mail input").val(""),add_mail.hide(),l_mail.hide(),t.hide(),e.show()}else alert(i.resmsg||"系统处理失败")},error:function(e){alert(e)}})}function AddressSelect(){var instanse=this,geocoder;this.show=!1,this.poi={};var $this=this,$poi={},$isBlock=!1,$searched=!1,$city=$("input[name='city']"),$address=$("input[name='address']"),$poiTitle=$("input[name='poiTitle']"),$poiCity=$("input[name='poiCity']"),$Geocoder=$("input[name='Geocoder']"),$poiArea=$("input[name='poiArea']"),$locationInfo=$("input[name='locationInfo']"),$houseNumber=$("input[name='houseNumber']"),$poiProvince=$("input[name='poiProvince']");$poi={Geocoder:$Geocoder.val().split(","),poiTitle:$poiTitle.val(),poiProvince:$poiProvince.val(),poiCity:$poiCity.val(),city:$city.val(),poiArea:$poiArea.val()};var template=function(){
return'<ul class="gd-search"><li class=""><label><i>*</i>街道/写字楼</label><input type="text" class="ipt" id="addressSearch" name="" /><div class="poiArea"><i></i>正在定位中</div></li><li><label>门牌</label><input type="text" class="ipt address-house" name="" /></li></ul>'},searchPoi=function(e){$searched=!0;var _address=""==$(this).attr("data-address")?$(this).val():$(this).attr("data-address"),val=$("#addressSearch").val().trim(),timer,$item=$("#addressSearch").closest("li");return""===val?!1:void(timer=setTimeout(function(){return $isBlock?!1:($item.addClass("loading").removeClass("error"),$item.find(".poiArea").html("<i></i>正在定位中").show(),$(".address-pop .btn-next").addClass("disabled"),timer&&clearTimeout(timer),void(val==$("#addressSearch").val().trim()&&geocoder.getLocation(_address,function(status,result){if($item.removeClass("loading"),"error"===status||"no_data"==status)return $item.addClass("error"),$item.find(".poiArea").html("<i></i>定位失败"),!1;if(result.geocodes.length>0&&"OK"===result.info){var _geo=result.geocodes[0],_address=_geo.addressComponent;$poi={Geocoder:eval("["+_geo.location.lng+","+_geo.location.lat+"]"),poiTitle:_geo.formattedAddress,poiProvince:_address.province,poiCity:_address.province!=_address.city?_address.city:"",city:_address.citycode,poiArea:_address.district},$item.removeClass("error"),$(".address-pop .btn-next").removeClass("disabled"),$item.find(".poiArea").html("<i></i>定位成功")}})))},200))},opened=function(){var $wrap=this.$content;if(""!=$.trim($address.val())){var __address=$locationInfo.val();$("#addressSearch").val(__address).attr("data-address",$poiTitle.val()),$wrap.find(".address-house").val($houseNumber.val())}AMap.plugin(["AMap.Autocomplete","AMap.PlaceSearch","AMap.Geocoder"],function(){var autocomplete=new AMap.Autocomplete({city:$("input[name='locationName']").val(),input:"addressSearch"});geocoder=new AMap.Geocoder({radius:1e3,extensions:"all",city:$("input[name='locationName']").val()}),AMap.event.addListener(autocomplete,"select",function(e){$isBlock=!0;var lnglatXY=eval("["+e.poi.location.lng+","+e.poi.location.lat+"]");geocoder.getAddress(lnglatXY,function(e,t){if("OK"===t.info){var n=t.regeocode,i=n.addressComponent,a=$("#addressSearch").closest("li");$poi={Geocoder:lnglatXY,poiTitle:n.formattedAddress,poiProvince:i.province,poiCity:i.province!=i.city?i.city:"",city:i.citycode,poiArea:i.district},a.removeClass("error").removeClass("loading"),$(".address-pop .btn-next").removeClass("disabled"),a.find(".poiArea").html("<i></i>定位成功")}})}),$("#addressSearch").on("blur",searchPoi),$("#addressSearch").on("input",function(){$(this).attr("data-address","")}).on("focus",function(){$isBlock=!1}),$("#addressSearch").keydown(function(e){13==e.keyCode&&searchPoi(e)})})};this.confirm=function(){$this.show=!0,$.confirm({content:template(),buttonsReverse:!0,cancelButton:!1,closeIcon:!0,columnClass:"address-pop",confirmButtonClass:"btn btn-next",title:"设置工作地点",onClose:function(){$this.show=!1},onOpen:opened,confirm:function(){var e=this.$content;if(""==$.trim($("#addressSearch").val()))return alert("街道/写字楼不能为空"),!1;if(this.$confirmButton.hasClass("disabled"))return!1;var t=$poi.poiProvince+$poi.poiCity+$poi.poiArea+$("#addressSearch").val()+e.find(".address-house").val();$address.val(t),$Geocoder.val($poi.Geocoder.join(",")),$poiTitle.val($poi.poiTitle),$poiProvince.val($poi.poiProvince),$poiCity.val($poi.poiCity),$city.val($poi.city),$poiArea.val($poi.poiArea),$locationInfo.val($("#addressSearch").val()),$houseNumber.val(e.find(".address-house").val()),$address.trigger("blur")}})},AddressSelect=function(){return instanse}}var isBeta=!1;if($(window.top.document).find("#wrap").length&&(isBeta=!0),isBeta&&_PAGE){_PAGE.listPageUrl="/bossweb/joblist.html";var creatPopEl=$(".layer_zhiwei_create");creatPopEl.find("h3").css("text-align","center"),creatPopEl.find(".tip").remove(),creatPopEl.find(".cancle").remove(),creatPopEl.find(".sure").text("确定")}$(".layer_zhiwei_create .btns .cancle,.layer_zhiwei_create .head .delete").bind("click",function(e){window.location.href=_PAGE.listPageUrl,e.preventDefault()}),$(".layer_zhiwei_create .btns .sure").bind("click",function(e){isBeta?window.location.href=_PAGE.listPageUrl:window.location.href=elitePageUrl,e.preventDefault()});var elitePageUrlMatch=_PAGE.elitePageUrl.match(/\{[a-zA-Z]+\}/g),elitePageUrl=null;Verification(),companyBaseVerification(),$(".P_search_city").each(function(){var e=$(this).data("url"),t=$(this).parent(),n=$(this),i=$(this).siblings("[type=hidden]"),a={value:n.val(),data:i.val()},o=$('<div class="P_selectbox"><div class="box"><i/></div></div>').css({top:t.outerHeight()}).hide().appendTo(t);$(this).searchBarEvent({url:e,witeTime:0,input:"THIS",clear:null,cancel:null,onFocus:function(e){a={value:n.val(),data:i.val()},t.css({zIndex:1})},onBlur:function(e){""!=n.val()?(n.val(a.value),i.val(a.data)):i.val("0"),setTimeout(function(){o.hide()},500)},onClear:function(e){},onCancel:function(e){},onKey:function(e){},onDataReadyBefore:function(e){return!0},onData:function(e){o.show().find(".box").html(""),0==e.suggestions.length?o.find(".box").hide():o.find(".box").show(),$.each(e.suggestions,function(e,t){$('<a href="#"/>').text(t.value).on("click",function(e,s){a=t,n.val(a.value),i.val(a.data),$("[name=citycode]").val(a.code),-1==$("[name=address]").val().indexOf(a.value)&&$("[name=address]").val(""),$("[name=address]").val(""),o.hide(),setTimeout(function(){n.trigger("checkall")},20),e.preventDefault()}).appendTo(o.children(".box"))})}})}),$(".btn_post_hidden").bind("click",function(e){var t=$(this);$.get($(this).attr("href"),function(e){1==e.rescode?(KZ.form.Prompt(t.data("msg"),1),setTimeout(function(){window.location.href=_PAGE.listPageUrl},2e3)):window.top.$.confirm({content:"<p>"+e.resmsg+"</p>",title:"温馨提示",confirmButton:"确定",cancelButton:!1,closeIcon:!0,columnClass:"pop-tip",confirm:function(){window.location.href=_PAGE.listPageUrl}})}),e.preventDefault()}),$(".btn_post_delete").bind("click",function(e){$(this);return KZ.pageLock.show(9999,"#qr_del_1","#qr_del_1 .delete,#qr_del_1 .cancle,#qr_del_1 .confirm"),e.preventDefault(),!1}),$("#qr_del_1").each(function(){$(this).find(".confirm").bind("click",function(e){var t=$(".btn_post_delete");$.get(t.attr("href"),function(e){1==e.rescode?(KZ.form.Prompt(t.data("msg"),1),$("#qr_del_1").remove(),setTimeout(function(){window.location.href=_PAGE.listPageUrl},2e3)):KZ.form.Prompt(e.resmsg,1)}),e.preventDefault()})}),$(".ewm_box,.scan_intro a").hover(function(){$(".phone").stop().animate({left:"538px",opacity:"1"},700)},function(){$(".phone").stop().animate({left:"60px",opacity:"0.5"},700)}),$(".scancode_bg").length>0&&(Response(),$(window).resize(function(){Response()}));var isChecked=!1,l_mail=$("#l_mail"),add_mail=$(".add_mail"),Rcheck_add_mail=add_mail.closest(".Rcheck");if(l_mail.find("input").bind("blur",function(){reCheck($(this).val())}).bind("focus",function(){l_mail.find(".ip_mail .ip_tip").hide(),l_mail.find(".ip_tips").show()}),add_mail.click(function(){l_mail.find(".ip_tips").html("建议您添加公司官方邮箱"),KZ.pageLock.show(1e3,l_mail,l_mail.find(".delete"))}),l_mail.find(".cont a.sure2").click(function(){l_mail_submit()}),l_mail.find("input").keydown(function(e){13==e.keyCode&&(reCheck($(this).val()),l_mail_submit())}),$(".inp_mail").find("input").length>0){var mail_val=$(".inp_mail").find("input").val();""==mail_val||null==mail_val?(l_mail.find(".ip_tips").html("您还没有任何接收简历的邮箱，无法接收附件简历，请添加"),KZ.pageLock.show(1e3,l_mail,l_mail.find(".delete"))):checkEmailFormat(mail_val)||(l_mail.find(".ip_tips").html("您接收简历的邮箱格式错误，无法接收附件简历，请重新添加"),KZ.pageLock.show(1e3,l_mail,l_mail.find(".delete")))}else add_mail.length&&(l_mail.find(".ip_tips").html("您还没有任何接收简历的邮箱，无法接收附件简历，请添加"),KZ.pageLock.show(1e3,l_mail,l_mail.find(".delete")));var ip_unedit=$("input[uneditable]");if($(".hmain .menu").find("li").eq(1).hasClass("cur")?(ip_unedit.attr("readonly",!0),ip_unedit.css("background","#f1f1f1"),ip_unedit.closest(".kz_select").length>0&&(ip_unedit.closest(".kz_select").css("background","#f1f1f1").find(".arrow").removeClass("arrow"),ip_unedit.closest(".kz_select").find("input[type=text]").addClass("unclickable"))):ip_unedit.closest(".kz_select").find("input[type=text]").removeClass("unclickable"),$("[name=address]").length>0){var map;map=new AMap.Map("container",{resizeEnable:!0,zoom:13}),AMap.service(["AMap.PlaceSearch"],function(){function dingwei(dw){zb=eval("["+dw+"]"),map=new AMap.Map("container",{resizeEnable:!0,center:zb,zoom:13}),info(zb)}function info(zb){function createInfoWindow(e,t){var n=document.createElement("div"),i=document.createElement("div");return i.innerHTML=t,n.appendChild(i),window.html=n,n}function closeInfoWindow(){map.clearInfoWindow()}map.clearMap();var marker=new AMap.Marker({position:zb,draggable:!0,cursor:"move",map:map,raiseOnDrag:!0});map.getCity(function(e){$("[name=poiProvince]").val(e.province),$("[name=poiCity]").val(e.city),$("[name=poiArea]").val(e.district)}),marker.on("mouseup",function(e){infoWindow.open(map,marker.getPosition()),$(window.html).show()});var title="修改坐标信息",content=[];content.push('<div class="l_tips map_layer" style="display:block">								<div class="head">									<a class="delete" id=delete></a>								</div>								<div class="cont">									<p class="tip f16">是否将新位置设置为您的职位办公地址？</p>									<p class="hint">（可以继续拖动图标标注）</p>									<div class="btns">									    <a class="kz_btn btn_a btn_a3 qx" href="javascript:void(0)">取消</a>										<a class="kz_btn btn_a btn_a3 qr" href="javascript:void(0)">确定</a>									</div>								</div>								<i class="arrow"></i>							</div>');var infoWindow=new AMap.InfoWindow({isCustom:!0,content:createInfoWindow(title,content.join("")),offset:new AMap.Pixel(16,-45)});$(window.html).appendTo("body").hide(),$(".qx").click(function(){return map.clearMap(),marker=new AMap.Marker({position:eval("["+$("[name=Geocoder]").val()+"]"),draggable:!0,cursor:"move",map:map,raiseOnDrag:!0}),marker.on("mouseup",function(e){infoWindow.open(map,marker.getPosition()),$(html).show()}),closeInfoWindow(),!1}),$(".delete").click(function(){return closeInfoWindow(),!1}),$(".qr").click(function(){function e(e){var n=new AMap.Geocoder({radius:1e3,extensions:"all"});n.getAddress(e,function(e,n){"complete"===e&&"OK"===n.info&&t(n)}),marker=new AMap.Marker({position:e,draggable:!0,cursor:"move",map:map,raiseOnDrag:!0}),map.setFitView()}function t(e){e.regeocode.formattedAddress;$("[name=address]").val(e.regeocode.formattedAddress),$("[name=poiTitle]").val(e.regeocode.formattedAddress),$("[name=poiProvince]").val(e.regeocode.addressComponent.province),$("[name=poiCity]").val(e.regeocode.addressComponent.city),$("[name=poiArea]").val(e.regeocode.addressComponent.district),$("[name=Geocoder]").val(n),-1==e.regeocode.formattedAddress.indexOf($("[name=locationName]").val())&&($("[name=locationName]").val("").removeAttr("readonly").css("backgroundColor","#fff").addClass("kz_error").focus(),$("[name=locationName]").closest(".Rcheck").find(".error_hint").length?$("[name=locationName]").closest(".Rcheck").find(".error_hint").html("<i></i>请重新选择城市"):$("[name=locationName]").closest(".Rcheck").append('<div class="error_hint"><i></i>请重新选择城市</div>')),closeInfoWindow()}map.clearMap();var n=marker.getPosition();return e(n),marker.on("mouseup",function(e){infoWindow.open(map,marker.getPosition()),$(html).show()}),!1})}function searchkey(key){var html;placeSearch.search($(".P_search_city").val()+key,function(status,result){"OK"==result.info&&(zb=eval("["+result.poiList.pois[0].location+"]"),$("[name=poiTitle]").val(result.poiList.pois[0].name),$("[name=Geocoder]").val(zb),map=new AMap.Map("container",{resizeEnable:!0,center:zb,zoom:13}),info(zb))})}var placeSearch=new AMap.PlaceSearch({pageSize:1,pageIndex:1});""==_PAGE.address?map.getCity(function(e){$("[name=poiProvince]").val(e.province),$("[name=poiCity]").val(e.city),$("[name=poiArea]").val(e.district),searchkey(e.district)}):$("[name=Geocoder]").val().length>0?dingwei($("[name=Geocoder]").val()):searchkey(_PAGE.address),$("[name=address]").bind("focus",function(){$("input[name='address']").trigger("select.address")}),$(".P_search_city").bind("change",function(){searchkey($(this).val()+$("[name=address]").val())})})}if($(".extend_btn").length>0){var T=$(".extend_btn");T.click(function(){var e=T.data("url"),t=T.attr("jobid");$.ajax({url:e,data:{jobId:t},type:"POST",dataType:"json",success:function(e){1==e.rescode&&(KZ.form.Prompt("操作成功！已为您延长招聘时间",1),T.remove())},error:function(e){BackErr(e)}})})}$("input[name='address']").on("select.address",function(){$(this).blur();var e=new AddressSelect;return""==$("input[name='locationName']").val()?(alert("请选择城市"),!1):e.show?!1:void e.confirm()})})}),define("home",function(){});